<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QGIS WMS ãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c5aa0;
            text-align: center;
        }
        h2 {
            color: #4a4a4a;
            border-bottom: 2px solid #2c5aa0;
            padding-bottom: 5px;
        }
        .endpoint {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        .endpoint h3 {
            margin-top: 0;
            color: #2c5aa0;
        }
        .url {
            background-color: #e9ecef;
            padding: 8px;
            border-radius: 4px;
            font-family: monospace;
            word-break: break-all;
            margin: 5px 0;
        }
        .example {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .map-container {
            border: 2px solid #2c5aa0;
            margin: 20px 0;
            border-radius: 8px;
            overflow: hidden;
        }
        iframe {
            width: 100%;
            height: 400px;
            border: none;
        }
        .image-preview {
            text-align: center;
            margin: 20px 0;
        }
        .image-preview img {
            max-width: 100%;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .button {
            background-color: #2c5aa0;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            margin: 5px;
        }
        .button:hover {
            background-color: #1e3d72;
        }
        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .status.success {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        .status.error {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
        .parameter-table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
        }
        .parameter-table th,
        .parameter-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        .parameter-table th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ—ºï¸ QGIS WMSé…ä¿¡ãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</h1>
        
        <p>ã“ã®ãƒšãƒ¼ã‚¸ã§ã¯ã€QGISã®ç¾åœ¨ã®ãƒãƒƒãƒ—ãƒ“ãƒ¥ãƒ¼ã‚’WMSï¼ˆWeb Map Serviceï¼‰ã¨ã—ã¦é…ä¿¡ã™ã‚‹æ©Ÿèƒ½ã®ãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡Œã„ã¾ã™ã€‚</p>
        
        <div id="server-status" class="status">
            <strong>ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹:</strong> <span id="status-text">ç¢ºèªä¸­...</span>
        </div>

        <h2>ğŸŒ åˆ©ç”¨å¯èƒ½ãªã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ</h2>

        <!-- WMS GetCapabilities -->
        <div class="endpoint">
            <h3>1. WMS GetCapabilities</h3>
            <p>WMSã‚µãƒ¼ãƒ“ã‚¹ã®æ©Ÿèƒ½ã¨åˆ©ç”¨å¯èƒ½ãªãƒ¬ã‚¤ãƒ¤ãƒ¼æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚</p>
            <div class="url">
                <a href="http://localhost:8089/wms?SERVICE=WMS&REQUEST=GetCapabilities" target="_blank">
                    http://localhost:8089/wms?SERVICE=WMS&REQUEST=GetCapabilities
                </a>
            </div>
            <button class="button" onclick="testCapabilities()">GetCapabilities ãƒ†ã‚¹ãƒˆ</button>
            <div id="capabilities-result"></div>
        </div>

        <!-- WMS GetMap -->
        <div class="endpoint">
            <h3>2. WMS GetMap</h3>
            <p>æŒ‡å®šã•ã‚ŒãŸBBOXï¼ˆå¢ƒç•Œãƒœãƒƒã‚¯ã‚¹ï¼‰ã¨ã‚µã‚¤ã‚ºã§åœ°å›³ç”»åƒã‚’å–å¾—ã—ã¾ã™ã€‚</p>
            
            <table class="parameter-table">
                <tr>
                    <th>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</th>
                    <th>èª¬æ˜</th>
                    <th>ä¾‹</th>
                </tr>
                <tr>
                    <td>SERVICE</td>
                    <td>ã‚µãƒ¼ãƒ“ã‚¹åï¼ˆWMSå›ºå®šï¼‰</td>
                    <td>WMS</td>
                </tr>
                <tr>
                    <td>REQUEST</td>
                    <td>ãƒªã‚¯ã‚¨ã‚¹ãƒˆç¨®åˆ¥</td>
                    <td>GetMap</td>
                </tr>
                <tr>
                    <td>BBOX</td>
                    <td>å¢ƒç•Œãƒœãƒƒã‚¯ã‚¹ï¼ˆminx,miny,maxx,maxyï¼‰</td>
                    <td>139.0,35.0,140.0,36.0</td>
                </tr>
                <tr>
                    <td>WIDTH</td>
                    <td>ç”»åƒå¹…ï¼ˆãƒ”ã‚¯ã‚»ãƒ«ï¼‰</td>
                    <td>800</td>
                </tr>
                <tr>
                    <td>HEIGHT</td>
                    <td>ç”»åƒé«˜ã•ï¼ˆãƒ”ã‚¯ã‚»ãƒ«ï¼‰</td>
                    <td>600</td>
                </tr>
                <tr>
                    <td>CRS</td>
                    <td>åº§æ¨™å‚ç…§ç³»</td>
                    <td>EPSG:4326</td>
                </tr>
                <tr>
                    <td>FORMAT</td>
                    <td>ç”»åƒãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ</td>
                    <td>image/png</td>
                </tr>
            </table>

            <div class="example">
                <strong>æ±äº¬å‘¨è¾ºã®ä¾‹:</strong><br>
                <div class="url">
                    <a href="http://localhost:8089/wms?SERVICE=WMS&REQUEST=GetMap&BBOX=139.5,35.5,139.9,35.9&WIDTH=400&HEIGHT=400&CRS=EPSG:4326&FORMAT=image/png" target="_blank">
                        http://localhost:8089/wms?SERVICE=WMS&REQUEST=GetMap&BBOX=139.5,35.5,139.9,35.9&WIDTH=400&HEIGHT=400&CRS=EPSG:4326&FORMAT=image/png
                    </a>
                </div>
            </div>

            <div class="image-preview">
                <h4>åœ°å›³ç”»åƒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼:</h4>
                <img id="wms-preview" src="http://localhost:8089/wms?SERVICE=WMS&REQUEST=GetMap&BBOX=139.5,35.5,139.9,35.9&WIDTH=400&HEIGHT=400&CRS=EPSG:4326&FORMAT=image/png" 
                     alt="WMSåœ°å›³ç”»åƒ" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNiIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuOCteODvOODkOODvOOBq+aOpee2muOBp+OBjeOBvuOBm+OCiTwvdGV4dD48L3N2Zz4='; this.alt='ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã§ãã¾ã›ã‚“';" />
            </div>

            <button class="button" onclick="refreshMapImage()">åœ°å›³ç”»åƒã‚’æ›´æ–°</button>
        </div>

        <!-- WMS GetFeatureInfo -->
        <div class="endpoint">
            <h3>3. WMS GetFeatureInfo</h3>
            <p>æŒ‡å®šã•ã‚ŒãŸåº§æ¨™ã®åœ°ç‰©æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚</p>
            <div class="url">
                <a href="http://localhost:8089/wms?SERVICE=WMS&REQUEST=GetFeatureInfo&I=200&J=200&INFO_FORMAT=application/json" target="_blank">
                    http://localhost:8089/wms?SERVICE=WMS&REQUEST=GetFeatureInfo&I=200&J=200&INFO_FORMAT=application/json
                </a>
            </div>
            <button class="button" onclick="testFeatureInfo()">GetFeatureInfo ãƒ†ã‚¹ãƒˆ</button>
            <div id="featureinfo-result"></div>
        </div>

        <!-- ã‚¿ã‚¤ãƒ«é…ä¿¡ -->
        <div class="endpoint">
            <h3>4. ã‚¿ã‚¤ãƒ«é…ä¿¡ï¼ˆSlippy Map Tilesï¼‰</h3>
            <p>OpenStreetMapã‚¹ã‚¿ã‚¤ãƒ«ã®ã‚¿ã‚¤ãƒ«é…ä¿¡APIã§ã™ã€‚ã‚ºãƒ¼ãƒ ãƒ¬ãƒ™ãƒ«ã€Xåº§æ¨™ã€Yåº§æ¨™ã‚’æŒ‡å®šã—ã¾ã™ã€‚</p>
            <div class="url">
                http://localhost:8089/tiles/{z}/{x}/{y}.png
            </div>
            <div class="example">
                <strong>ä¾‹:</strong><br>
                <div class="url">
                    <a href="http://localhost:8089/tiles/10/904/403.png" target="_blank">
                        http://localhost:8089/tiles/10/904/403.png
                    </a>
                </div>
            </div>
            <div class="image-preview">
                <h4>ã‚¿ã‚¤ãƒ«ç”»åƒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆZ=10, X=904, Y=403ï¼‰:</h4>
                <img id="tile-preview" src="http://localhost:8089/tiles/10/904/403.png" 
                     alt="ã‚¿ã‚¤ãƒ«ç”»åƒ" width="256" height="256" 
                     onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU2IiBoZWlnaHQ9IjI1NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuOCv+OCpOODq+OBjOiqreOBv+i+vOOBvuOBvuOBm+OCiTwvdGV4dD48L3N2Zz4='; this.alt='ã‚¿ã‚¤ãƒ«ãŒèª­ã¿è¾¼ã‚ã¾ã›ã‚“';" />
            </div>
        </div>

        <!-- æ—¢å­˜ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ -->
        <div class="endpoint">
            <h3>5. æ—¢å­˜ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ</h3>
            <p>QMapPermalinkãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®æ—¢å­˜æ©Ÿèƒ½ã‚‚å¼•ãç¶šãåˆ©ç”¨ã§ãã¾ã™ã€‚</p>
            
            <h4>ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–åœ°å›³:</h4>
            <div class="url">
                <a href="http://localhost:8089/qgis-map?lat=35.681&lon=139.767&scale=25000" target="_blank">
                    http://localhost:8089/qgis-map?lat=35.681&lon=139.767&scale=25000
                </a>
            </div>

            <h4>PNGç”»åƒç›´æ¥é…ä¿¡:</h4>
            <div class="url">
                <a href="http://localhost:8089/qgis-png?lat=35.681&lon=139.767&scale=25000&width=800&height=600" target="_blank">
                    http://localhost:8089/qgis-png?lat=35.681&lon=139.767&scale=25000&width=800&height=600
                </a>
            </div>
        </div>

        <h2>ğŸ§­ OpenLayersã‚’ä½¿ç”¨ã—ãŸWMSè¡¨ç¤ºä¾‹</h2>
        <div class="map-container">
            <div id="map" style="width: 100%; height: 400px;"></div>
        </div>

        <h2>ğŸ“‹ ä½¿ç”¨æ–¹æ³•</h2>
        <ol>
            <li><strong>QGISã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ã:</strong> é…ä¿¡ã—ãŸã„åœ°å›³ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’QGISã§è¡¨ç¤ºã—ã¾ã™ã€‚</li>
            <li><strong>QMapPermalinkãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’æœ‰åŠ¹åŒ–:</strong> ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’èµ·å‹•ã—ã¦HTTPã‚µãƒ¼ãƒãƒ¼ã‚’é–‹å§‹ã—ã¾ã™ã€‚</li>
            <li><strong>WMSã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§æ¥ç¶š:</strong> ä¸Šè¨˜ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆURLã‚’ä½¿ã£ã¦WMSã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆQGISã€OpenLayersç­‰ï¼‰ã‹ã‚‰æ¥ç¶šã—ã¾ã™ã€‚</li>
            <li><strong>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°:</strong> QGISã§ãƒãƒƒãƒ—ãƒ“ãƒ¥ãƒ¼ã‚’å¤‰æ›´ã™ã‚‹ã¨ã€WMSé…ä¿¡å†…å®¹ã‚‚ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æ›´æ–°ã•ã‚Œã¾ã™ã€‚</li>
        </ol>

        <h2>âš™ï¸ æŠ€è¡“ä»•æ§˜</h2>
        <ul>
            <li><strong>WMSãƒãƒ¼ã‚¸ãƒ§ãƒ³:</strong> 1.3.0</li>
            <li><strong>å¯¾å¿œåº§æ¨™ç³»:</strong> EPSG:4326 (WGS84), EPSG:3857 (Web Mercator)</li>
            <li><strong>å¯¾å¿œãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ:</strong> image/png, image/jpeg</li>
            <li><strong>ã‚¿ã‚¤ãƒ«ä»•æ§˜:</strong> XYZ Tiles (256x256ãƒ”ã‚¯ã‚»ãƒ«)</li>
            <li><strong>ã‚µãƒ¼ãƒãƒ¼ãƒãƒ¼ãƒˆ:</strong> 8089 (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)</li>
        </ul>
    </div>

    <!-- OpenLayers CSS ã¨ JS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@v8.2.0/ol.css" type="text/css">
    <script src="https://cdn.jsdelivr.net/npm/ol@v8.2.0/dist/ol.js"></script>

    <script>
        // ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹ãƒã‚§ãƒƒã‚¯
        async function checkServerStatus() {
            try {
                const response = await fetch('http://localhost:8089/wms?SERVICE=WMS&REQUEST=GetCapabilities');
                if (response.ok) {
                    document.getElementById('status-text').textContent = 'ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ âœ…';
                    document.getElementById('server-status').className = 'status success';
                } else {
                    throw new Error('Server responded with error');
                }
            } catch (error) {
                document.getElementById('status-text').textContent = 'ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ âŒ';
                document.getElementById('server-status').className = 'status error';
            }
        }

        // GetCapabilitiesãƒ†ã‚¹ãƒˆ
        async function testCapabilities() {
            const resultDiv = document.getElementById('capabilities-result');
            resultDiv.innerHTML = '<p>GetCapabilities ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡ä¸­...</p>';
            
            try {
                const response = await fetch('http://localhost:8089/wms?SERVICE=WMS&REQUEST=GetCapabilities');
                const text = await response.text();
                
                if (response.ok) {
                    resultDiv.innerHTML = `
                        <div class="status success">
                            <strong>æˆåŠŸ:</strong> GetCapabilities ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å–å¾—ã—ã¾ã—ãŸã€‚
                        </div>
                        <details>
                            <summary>XMLãƒ¬ã‚¹ãƒãƒ³ã‚¹è©³ç´°</summary>
                            <pre style="background-color: #f8f9fa; padding: 10px; overflow-x: auto; font-size: 12px;">${escapeHtml(text)}</pre>
                        </details>
                    `;
                } else {
                    throw new Error(`HTTP ${response.status}: ${text}`);
                }
            } catch (error) {
                resultDiv.innerHTML = `
                    <div class="status error">
                        <strong>ã‚¨ãƒ©ãƒ¼:</strong> ${error.message}
                    </div>
                `;
            }
        }

        // GetFeatureInfoãƒ†ã‚¹ãƒˆ
        async function testFeatureInfo() {
            const resultDiv = document.getElementById('featureinfo-result');
            resultDiv.innerHTML = '<p>GetFeatureInfo ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡ä¸­...</p>';
            
            try {
                const response = await fetch('http://localhost:8089/wms?SERVICE=WMS&REQUEST=GetFeatureInfo&I=200&J=200&INFO_FORMAT=application/json');
                const text = await response.text();
                
                if (response.ok) {
                    const data = JSON.parse(text);
                    resultDiv.innerHTML = `
                        <div class="status success">
                            <strong>æˆåŠŸ:</strong> GetFeatureInfo ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å–å¾—ã—ã¾ã—ãŸã€‚
                        </div>
                        <details>
                            <summary>JSONãƒ¬ã‚¹ãƒãƒ³ã‚¹è©³ç´°</summary>
                            <pre style="background-color: #f8f9fa; padding: 10px; overflow-x: auto; font-size: 12px;">${JSON.stringify(data, null, 2)}</pre>
                        </details>
                    `;
                } else {
                    throw new Error(`HTTP ${response.status}: ${text}`);
                }
            } catch (error) {
                resultDiv.innerHTML = `
                    <div class="status error">
                        <strong>ã‚¨ãƒ©ãƒ¼:</strong> ${error.message}
                    </div>
                `;
            }
        }

        // åœ°å›³ç”»åƒã‚’æ›´æ–°
        function refreshMapImage() {
            const img = document.getElementById('wms-preview');
            const timestamp = new Date().getTime();
            const baseUrl = 'http://localhost:8089/wms?SERVICE=WMS&REQUEST=GetMap&BBOX=139.5,35.5,139.9,35.9&WIDTH=400&HEIGHT=400&CRS=EPSG:4326&FORMAT=image/png';
            img.src = `${baseUrl}&_t=${timestamp}`;
        }

        // HTMLã‚¨ã‚¹ã‚±ãƒ¼ãƒ—
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // OpenLayersãƒãƒƒãƒ—åˆæœŸåŒ–
        function initMap() {
            // WMSãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ä½œæˆ
            const wmsLayer = new ol.layer.Image({
                source: new ol.source.ImageWMS({
                    url: 'http://localhost:8089/wms',
                    params: {
                        'SERVICE': 'WMS',
                        'REQUEST': 'GetMap',
                        'LAYERS': 'QGIS_Map',
                        'FORMAT': 'image/png',
                        'CRS': 'EPSG:3857'
                    },
                    crossOrigin: 'anonymous'
                })
            });

            // ãƒ™ãƒ¼ã‚¹ãƒãƒƒãƒ—ï¼ˆOpenStreetMapï¼‰
            const osmLayer = new ol.layer.Tile({
                source: new ol.source.OSM(),
                opacity: 0.5
            });

            // ãƒãƒƒãƒ—ã‚’ä½œæˆ
            const map = new ol.Map({
                target: 'map',
                layers: [osmLayer, wmsLayer],
                view: new ol.View({
                    center: ol.proj.fromLonLat([139.7, 35.7]), // æ±äº¬
                    zoom: 10
                })
            });

            // ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆGetFeatureInfoï¼‰
            map.on('singleclick', async function(evt) {
                const coordinate = evt.coordinate;
                const lonlat = ol.proj.toLonLat(coordinate);
                const pixel = map.getEventPixel(evt.originalEvent);
                
                try {
                    const response = await fetch(`http://localhost:8089/wms?SERVICE=WMS&REQUEST=GetFeatureInfo&I=${Math.round(pixel[0])}&J=${Math.round(pixel[1])}&INFO_FORMAT=application/json`);
                    const data = await response.json();
                    
                    alert(`åœ°ç‰©æƒ…å ±:\nåº§æ¨™: ${lonlat[1].toFixed(6)}, ${lonlat[0].toFixed(6)}\nãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°: ${data.layers.length}`);
                } catch (error) {
                    console.error('GetFeatureInfo error:', error);
                }
            });
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            checkServerStatus();
            initMap();
            
            // 30ç§’ã”ã¨ã«ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹ã‚’ãƒã‚§ãƒƒã‚¯
            setInterval(checkServerStatus, 30000);
        });
    </script>
</body>
</html>